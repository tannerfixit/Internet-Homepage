<!DOCTYPE html>
<html>
    <head>
        <script src="jquery.js"></script>
        <script src="jquery-ui.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Poiret+One" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
        <link rel="stylesheet"  href="index.css">
        <title>Utilities 3.0</title>
    </head>
    <body onload="startup()">
        <div class="mainContent">
            <div class="quickLinksContainer">
                <div class="blur"></div>
                <div class="overlay"></div>
                
                <a class="quickLink" style="background:rgba(100,200,100,.4)" href="https://my.calpoly.edu">
                    <img src="images/icons/calpoly.png">
                </a>
                <a class="quickLink" style="background-color:rgba(36, 116, 237, 0.4)" href="https://reddit.com">
                    <img src="images/icons/reddit.png">
                </a>
                <a class="quickLink" style="background-color:rgba(59, 89, 152, 0.5);" href="https://facebook.com">
                    <img src="images/icons/facebook.png">
                </a>
                <a class="quickLink" style="background-color:rgba(22, 185, 237, .5);" href="http://twitter.com">
                    <img src="images/icons/twitter.png">
                </a>
                <div class="quickLink" id="settingsQuickLink" style="background:rgba(170,170,170,.6)">
                    <img src="images/icons/settings.png">
                </div>
            </div>
            <div class="widgetContainer">
                <div class="widget" id="widget1">
                    <div class="blur"></div>
                    <div class="overlay"></div>
                    <img src="images/logos/google.png" draggable='false'>
                      <form action="https://google.com/search">
                        <input class="searchbar" type="text" name="q" autocomplete="off">
                         <input class="searchButton" type="submit" name="searchbutton" value="Search">
                      </form>
                </div>
                <div class="widget" id="widget2">
                    <div class="blur"></div>
                    <div class="overlay"></div>
                    <img src="images/logos/yahoo.png" draggable='false'>
                    <form action="https://google.com/search">
                        <input class="searchbar" type="text" name="q" autocomplete="off">
                        <input class="searchButton" type="submit" name="searchbutton" value="Search">
                    </form>
                </div>
                <div class="widget" id="widget3">
                    <div class="blur"></div>
                    <div class="overlay"></div>
                    <img src="images/logos/reddit.png" draggable='false'>
                    <div class="widgetButtonHolder">
                        <a href="reddit.com">Front page</a>
                    </div>
                    <form action="https://google.com/search">
                        <input class="searchbar" type="text" name="q" autocomplete="off">
                        <input class="searchButton" type="submit" name="searchbutton" value="Search">
                    </form>
                </div>
                <div class="widget" id="widget4">
                    <div class="blur"></div>
                    <div class="overlay"></div>
                    <img src="images/logos/facebook.png" draggable='false'>
                    <form action="https://google.com/search">
                        <input class="searchbar" type="text" name="q" autocomplete="off">
                        <input class="searchButton" type="submit" name="searchbutton" value="Search">
                    </form>
                </div>
                <div class="widget" id="widget5">
                    <div class="blur"></div>
                    <div class="overlay"></div>
                    <img src="images/logos/youtube.png" draggable='false'>
                    <form action="https://google.com/search">
                        <input class="searchbar" type="text" name="q" autocomplete="off">
                        <input class="searchButton" type="submit" name="searchbutton" value="Search">
                    </form>
                </div>
                <div class="widget" id="widget6">
                    <div class="blur"></div>
                    <div class="overlay"></div>
                    <img src="images/logos/amazon.png" draggable='false'>
                    <form action="https://google.com/search">
                        <input class="searchbar" type="text" name="q" autocomplete="off">
                        <input class="searchButton" type="submit" name="searchbutton" value="Search">
                    </form>
                </div>
                <div class="widget" id="widget7">
                    <div class="blur"></div>
                    <div class="overlay"></div>
                    <form class="calculator" name="calculator" > 
                        <input class="display" type="textfield" name="ans" value="" placeholder='0' readonly>
                        <div class="calcRow">
                            <input class="calcButton" id="reset" type="reset" value="Clear">
                            <input class="calcButton" id="divide" type="button" value="/" onClick="document.calculator.ans.value+='/'">
                        </div>
                        <div class='calcRow'>
                            <input class="calcButton" id="button7" type="button" value="7" onClick="document.calculator.ans.value+='7'">
                            <input class="calcButton" type="button" value="8" onClick="document.calculator.ans.value+='8'">
                            <input class="calcButton" type="button" value="9" onClick="document.calculator.ans.value+='9'">
                            <input class="calcButton" id="operand" type="button" value="X" onClick="document.calculator.ans.value+='*'">
                        </div>
                        <div class='calcRow'>
                            <input type="button" class="calcButton" id="button4" value="4" onClick="document.calculator.ans.value+='4'">
                             <input type="button" class="calcButton" value="5" onClick="document.calculator.ans.value+='5'">
                             <input type="button" class="calcButton" value="6" onClick="document.calculator.ans.value+='6'">
                             <input type="button" class="calcButton" id="operand" value="-" onClick="document.calculator.ans.value+='-'">
                        </div>
                        <div class='calcRow'>
                            <input class="calcButton" id="button1" type="button" value="1" onClick="document.calculator.ans.value+='1'">
                            <input class="calcButton" type="button" value="2" onClick="document.calculator.ans.value+='2'">
                            <input class="calcButton" type="button" value="3" onClick="document.calculator.ans.value+='3'">
                            <input class="calcButton" id="operand" type="button" value="+" onClick="document.calculator.ans.value+='+'">
                        </div>
                        <div class='calcRow'>
                            <input class="calcButton" id='zero' type="button" value="0" onClick="document.calculator.ans.value+='0'">
                            <input class="calcButton" id='period' type="button" value="."  onClick="document.calculator.ans.value+='.'">
                            <input class="calcButton" id="equalSign" type="button" value="=" onClick="document.calculator.ans.value=eval(document.calculator.ans.value)">
                        </div>
                    </form>
                </div>
                <div class="widget" id="widget8">
                    <div class="blur"></div>
                    <div class="overlay"></div>
                    <img src="images/logos/spotify.png" draggable='false'>
                    <form action="https://google.com/search">
                        <input class="searchbar" type="text" name="q" autocomplete="off">
                        <input class="searchButton" type="submit" name="searchbutton" value="Search">
                    </form>
                </div>
                <div class="bumper"></div>
            </div>
        </div>
        <div class="settings">
            <div class="sidebar">
<!--                <div class="blur"></div>-->
<!--                <div class="overlay"></div>-->
                <h1>Settings</h1>
                <h2 class="sidebarButton" id="1sidebar">Theme</h2>
                <h2 class="sidebarButton" id="2sidebar">Widget Layout</h2>
                <h2 class="sidebarButton" id="3sidebar">Account</h2>
                <h2 id="done">Done</h2>
            </div>
            <div class="sectionHeaderOutline"></div>
            <div class="settingsContent">
                <div class="settingsSection" id="settingsSection1">
                    <h1 class="sectionHeader">Themes and Wallpaper</h1>
                    <h2 class="subSectionHeader">Wallpaper</h2>
                    <div class="subSection">
                        <div class="wallpaper" id="1wp" src="images/wp1.jpg"></div>
                        <div class="wallpaper" id="2wp" src="images/wp2.jpg"></div>
                        <div class="wallpaper" id="3wp" src="images/wp3.jpg"></div>
                        <div class="wallpaper" id="4wp" src="images/wp4.jpg"></div>
                        <div class="customWP">
                            <div class="uploadBox">
                                <input class="searchbar" id="customURL" type="text" autocomplete="off" placeholder="Custom URL">
                                <h2>Done</h2>
                            </div>
                            <div class="customWallpaperPreview">
                                
                            </div>
                            <script>
                                //Custom Wallpaper Triggers
                                $("#customURL").change(function(){
                                    localStorage.setItem("WPType","custom");
                                    localStorage.setItem("WPURL",$("#customURL").val());
                                    setWP();
                                })
                                $(".uploadBox h2").click(function(){
                                    if ($("#customURL").val() != ""){
                                        localStorage.setItem("WPType","custom");
                                        localStorage.setItem("WPURL",$("#customURL").val());
                                        setWP();
                                    }
                                })
                                $(".customWallpaperPreview").click(function(){
                                    localStorage.setItem("WPType","custom");
                                    setWP();
                                })
                                            
                                //Preset Wallpaper Trigger
                                $(".wallpaper").click(function(){
                                    var WPID = parseInt($(this).attr("id"));
                                    localStorage.setItem("WPType","preset");
                                    localStorage.setItem("WPID",WPID);
                                    setWP();
                                })
                            </script>
                        </div>
                    </div>
                    <h2 class="subSectionHeader">Themes</h2>
                    <div class="subSection">
                        <p>Nothing here yet</p>
                    </div>
                </div>
                <div class="settingsSection" id="settingsSection2">
                    <h1 class="sectionHeader">Widget Layout</h1>
                </div>
                <div class="settingsSection" id="settingsSection3">
                    <h1 class="sectionHeader">Account</h1>
                </div>
            </div>
        </div>
        <script>
//            $(".widgetContainer").sortable();
            $(".settings, .settingsSection").hide();
            $("#settingsQuickLink").click(function(){
                $(".widgetContainer, .quickLinksContainer").hide();
                $(".settings").fadeIn("fast");
            })
            $("#done").click(function(){
                $(".settings").fadeOut("fast");
                $(".widgetContainer, .quickLinksContainer").fadeIn("fast");
            })
            $(".sidebarButton").click(function(){
                $(".settingsSection").hide();
                var buttonID = parseInt($(this).attr("id"));
                $("#settingsSection"+buttonID).fadeIn("fast");
            })


            function setWP(){  
                var WPID = localStorage.getItem("WPID");
                var WPURL = localStorage.getItem("WPURL");
                
                // If preset wallpaper
                if (localStorage.getItem("WPType")=="preset"){
                    $("body, .blur").css("background","url(images/wp"+WPID+".jpg) no-repeat fixed");
                }
                
                // If URL was found
                else if (localStorage.getItem("WPType")=="custom"){
                    $("body, .blur").css("background","url("+WPURL+") no-repeat fixed");
                }
                
                // This will happen if nothing is saved in localstorage
                else{
                    $("body, .blur").css("background","url(images/wp1.jpg) no-repeat fixed");
                }
                
                // Check if there's a custom URL saved and apply it to that wallpaper tile
                if (localStorage.getItem('WPURL') != ""){
                    $(".customWallpaperPreview").css("background","url("+WPURL+")");
                }
                
                //Sets the background to cover the entire page
                $("body, .blur, .customWallpaperPreview").css("background-size","cover");
            }
            
            // Functions that happen when body is loading
            function startup(){
                setWP();
            }
        </script>
    </body>
</html>